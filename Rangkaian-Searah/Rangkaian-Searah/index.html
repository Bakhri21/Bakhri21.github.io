<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Rangkaian Searah</title>
    <style>
      html {
        scroll-behavior: smooth;
      }
    </style>
  </head>

  <body class="bg-gray-50 text-gray-800 font-sans">
    <!-- Header -->
    <header class="bg-blue-700 text-white p-4 shadow-md sticky top-0 z-50" x-data="{ open: false }">
      <div class="container mx-auto flex justify-between items-center">
        <h1 class="text-2xl font-bold">Rangkaian Searah</h1>

        <!-- Desktop Menu -->
        <nav class="hidden md:flex space-x-12 text-sm">
          <a
            href="#home"
            class="relative inline-block after:block after:absolute after:bottom-0 after:left-0 after:w-0 after:h-[2px] after:bg-white after:transition-all after:duration-300 hover:after:w-full"
            >Beranda</a
          >
          <a
            href="#konsep"
            class="relative inline-block after:block after:absolute after:bottom-0 after:left-0 after:w-0 after:h-[2px] after:bg-white after:transition-all after:duration-300 hover:after:w-full"
            >Konsep</a
          >
          <a
            href="#simulasi"
            class="relative inline-block after:block after:absolute after:bottom-0 after:left-0 after:w-0 after:h-[2px] after:bg-white after:transition-all after:duration-300 hover:after:w-full"
            >Simulasi</a
          >
        </nav>

        <!-- Hamburger (Mobile only) -->
        <button @click="open = !open" class="md:hidden text-white text-xl focus:outline-none">
          <i :class="open ? 'fas fa-times' : 'fas fa-bars'"></i>
        </button>
      </div>

      <!-- Mobile Menu -->
      <nav
        x-show="open"
        x-transition.duration.300ms
        class="md:hidden flex flex-col space-y-3 text-sm mt-4 px-4 bg-blue-800 py-4 rounded-b-lg shadow-inner"
        @click.away="open = false"
      >
        <a
          href="#home"
          class="relative inline-block after:block after:absolute after:bottom-0 after:left-0 after:w-0 after:h-[2px] after:bg-white after:transition-all after:duration-300 hover:after:w-full"
          >Beranda</a
        >
        <a
          href="#konsep"
          class="relative inline-block after:block after:absolute after:bottom-0 after:left-0 after:w-0 after:h-[2px] after:bg-white after:transition-all after:duration-300 hover:after:w-full"
          >Konsep</a
        >
        <a
          href="#simulasi"
          class="relative inline-block after:block after:absolute after:bottom-0 after:left-0 after:w-0 after:h-[2px] after:bg-white after:transition-all after:duration-300 hover:after:w-full"
          >Simulasi</a
        >
      </nav>
    </header>

    <main class="p-6 container mx-auto space-y-24">
      <!-- 1. Halaman Utama -->
      <section id="home" class="space-y-12">
        <!-- Jumbotron -->
        <div class="bg-white p-6 shadow rounded-lg flex flex-col md:flex-row items-center gap-6">
          <div class="flex-1 space-y-2">
            <h2 class="text-3xl font-bold text-blue-700">Belajar Rangkaian Searah Lebih Mudah</h2>
            <p class="text-gray-700">
              Website ini dirancang untuk membantu kamu memahami dasar-dasar listrik searah (DC) secara interaktif, lengkap dengan simulasi dan penjelasan visual.
            </p>
          </div>
          <div class="flex-1">
            <img src="../src/img/Jumbotron.jpg" alt="Ilustrasi Rangkaian DC" class="w-full max-w-xs mx-auto" />
          </div>
        </div>

        <!-- Pengertian -->
        <div class="space-y-4">
          <h3 class="text-2xl font-semibold border-b border-blue-700 pb-2 text-blue-700">Apa itu Rangkaian Searah?</h3>
          <p>
            Rangkaian searah (DC) adalah sistem kelistrikan di mana arus listrik mengalir dalam satu arah tetap. Umumnya digunakan dalam baterai, charger, dan peralatan elektronik
            sederhana. Sumber tegangan searah seperti baterai menghasilkan arus konstan yang sangat stabil, cocok untuk perangkat digital dan portabel.
          </p>
        </div>
      </section>

      <!-- 2. Konsep Dasar -->
      <section id="konsep" class="space-y-6">
        <h2 class="text-2xl font-semibold border-b border-blue-700 pb-2 text-blue-700">Konsep Dasar & Komponen</h2>
        <div class="grid md:grid-cols-3 gap-6">
          <!-- Komponen Resistor -->
          <div class="bg-white shadow rounded-xl p-4">
            <h3 class="font-bold text-lg mb-2"><i class="fas fa-minus text-red-500"></i> Resistor</h3>
            <img src="../src/img/Resistor.jpg" alt="Resistor" class="w-50 mx-auto mb-2" />
            <p>
              Resistor adalah komponen yang berfungsi untuk menghambat arus listrik dalam rangkaian. Dalam hukum Ohm, resistansi (R) mempengaruhi besar arus (I) yang mengalir pada
              tegangan (V) tertentu.
            </p>
          </div>

          <!-- Hukum Ohm dan Kirchoff -->
          <div class="bg-white shadow rounded-xl p-4">
            <h3 class="font-bold text-lg mb-2 flex items-center gap-2">
              <i class="fas fa-bolt text-yellow-500"></i>
              Hukum Ohm
            </h3>
            <p class="mb-2"><strong>Hukum Ohm</strong> menjelaskan hubungan antara tegangan, arus, dan resistansi dalam suatu rangkaian listrik. Rumus dasarnya adalah:</p>
            <p class="bg-yellow-100 p-2 rounded text-center font-semibold text-lg text-yellow-700 my-2">V = I × R</p>
            <p class="mb-2">Di mana:</p>
            <ul class="list-disc ml-6 space-y-1">
              <li><strong>V</strong> = Tegangan (dalam volt)</li>
              <li><strong>I</strong> = Arus listrik (dalam ampere)</li>
              <li><strong>R</strong> = Resistansi atau hambatan (dalam ohm)</li>
            </ul>
            <p class="mt-3">Dengan hukum ini, kamu bisa menghitung salah satu nilai jika dua lainnya sudah diketahui. Misalnya:</p>
            <p class="italic mt-2">Jika arus 2A dan hambatan 5Ω, maka tegangan = 2 × 5 = <strong>10V</strong>.</p>
          </div>

          <!-- Jenis Rangkaian -->
          <div class="bg-white shadow rounded-xl p-4">
            <h3 class="font-bold text-lg mb-2"><i class="fas fa-project-diagram text-green-500"></i> Jenis Rangkaian</h3>
            <img src="../src/img/Rangkaian.jpg" alt="Jenis Rangkaian" class="w-full mt-2" />
            <ul class="list-disc ml-4 space-y-4">
              <li>
                <strong>Seri:</strong> Komponen disusun dalam satu jalur.
                <ul class="list-disc ml-6 mt-1 text-sm text-gray-700 space-y-1">
                  <li>
                    Arus: Sama di setiap komponen → <code>I<sub>total</sub> = I₁ = I₂ = ...</code>
                  </li>
                  <li>
                    Tegangan: Terbagi → <code>V<sub>total</sub> = V₁ + V₂ + ...</code>
                  </li>
                  <li>
                    Resistansi total: <code>R<sub>total</sub> = R₁ + R₂ + ...</code>
                  </li>
                </ul>
              </li>
              <li>
                <strong>Paralel:</strong> Komponen memiliki jalur masing-masing.
                <ul class="list-disc ml-6 mt-1 text-sm text-gray-700 space-y-1">
                  <li>
                    Tegangan: Sama di semua cabang → <code>V<sub>total</sub> = V₁ = V₂ = ...</code>
                  </li>
                  <li>
                    Arus: Terbagi → <code>I<sub>total</sub> = I₁ + I₂ + ...</code>
                  </li>
                  <li>
                    Resistansi total: <code>1/R<sub>total</sub> = 1/R₁ + 1/R₂ + ...</code>
                  </li>
                </ul>
              </li>
              <li>
                <strong>Kombinasi:</strong> Gabungan antara rangkaian seri dan paralel.
                <ul class="list-disc ml-6 mt-1 text-sm text-gray-700">
                  <li>Gunakan prinsip dasar seri dan paralel untuk menyederhanakan langkah demi langkah.</li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
        <!-- Konversi Warna Resistor (Statik Sementara) -->
        <div class="bg-white shadow rounded-xl p-6 space-y-4">
          <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
            <i class="fas fa-palette text-red-500"></i>
            Panduan Warna Resistor
          </h3>

          <div class="overflow-x-auto">
            <table class="w-full text-sm text-left border border-gray-200">
              <thead>
                <tr class="bg-blue-100 text-gray-700">
                  <th class="p-3">Warna</th>
                  <th class="p-3">Angka</th>
                  <th class="p-3">Multiplier</th>
                  <th class="p-3">Toleransi</th>
                </tr>
              </thead>
              <tbody class="divide-y">
                <!-- ITEM TEMPLATE -->
                <tr class="hover:bg-gray-50">
                  <td class="p-3">
                    <div class="w-8 h-4 rounded bg-black border border-gray-300"></div>
                  </td>
                  <td class="p-3">0</td>
                  <td class="p-3">×1</td>
                  <td class="p-3">-</td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td class="p-3">
                    <div class="w-8 h-4 rounded bg-[#8B4513] border border-gray-300"></div>
                  </td>
                  <td class="p-3">1</td>
                  <td class="p-3">×10</td>
                  <td class="p-3">±1%</td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td class="p-3">
                    <div class="w-8 h-4 rounded bg-red-600 border border-gray-300"></div>
                  </td>
                  <td class="p-3">2</td>
                  <td class="p-3">×100</td>
                  <td class="p-3">±2%</td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td class="p-3">
                    <div class="w-8 h-4 rounded bg-orange-500 border border-gray-300"></div>
                  </td>
                  <td class="p-3">3</td>
                  <td class="p-3">×1k</td>
                  <td class="p-3">-</td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td class="p-3">
                    <div class="w-8 h-4 rounded bg-yellow-300 border border-gray-300"></div>
                  </td>
                  <td class="p-3">4</td>
                  <td class="p-3">×10k</td>
                  <td class="p-3">-</td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td class="p-3">
                    <div class="w-8 h-4 rounded bg-green-500 border border-gray-300"></div>
                  </td>
                  <td class="p-3">5</td>
                  <td class="p-3">×100k</td>
                  <td class="p-3">±0.5%</td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td class="p-3">
                    <div class="w-8 h-4 rounded bg-blue-500 border border-gray-300"></div>
                  </td>
                  <td class="p-3">6</td>
                  <td class="p-3">×1M</td>
                  <td class="p-3">±0.25%</td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td class="p-3">
                    <div class="w-8 h-4 rounded bg-purple-500 border border-gray-300"></div>
                  </td>
                  <td class="p-3">7</td>
                  <td class="p-3">×10M</td>
                  <td class="p-3">±0.1%</td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td class="p-3">
                    <div class="w-8 h-4 rounded bg-gray-400 border border-gray-300"></div>
                  </td>
                  <td class="p-3">8</td>
                  <td class="p-3">×100M</td>
                  <td class="p-3">±0.05%</td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td class="p-3">
                    <div class="w-8 h-4 rounded bg-white border border-gray-300"></div>
                  </td>
                  <td class="p-3">9</td>
                  <td class="p-3">×1G</td>
                  <td class="p-3">-</td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td class="p-3">
                    <div class="w-8 h-4 rounded bg-yellow-500 border border-gray-400" style="opacity: 0.6"></div>
                  </td>
                  <td class="p-3">-</td>
                  <td class="p-3">×0.1</td>
                  <td class="p-3">±5%</td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td class="p-3">
                    <div class="w-8 h-4 rounded bg-gray-300 border border-gray-400"></div>
                  </td>
                  <td class="p-3">-</td>
                  <td class="p-3">×0.01</td>
                  <td class="p-3">±10%</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- Penjelasan Cara Menghitung Resistor -->
        <div class="bg-white shadow rounded-xl p-6 space-y-4 mt-8">
          <h3 class="text-xl font-bold mb-2 flex items-center gap-2">
            <i class="fas fa-question-circle text-purple-500"></i>
            Cara Menghitung Nilai Resistor 3 Warna
          </h3>
          <p>Resistor 3 pita warna terdiri dari:</p>
          <ul class="list-disc ml-6 space-y-1">
            <li><strong>Pita 1:</strong> Angka pertama</li>
            <li><strong>Pita 2:</strong> Angka kedua</li>
            <li><strong>Pita 3:</strong> Pengali (Multiplier)</li>
          </ul>
          <p>
            Rumus menghitung nilai resistor adalah:
            <br />
            <code class="bg-gray-100 px-2 py-1 rounded text-blue-700">Nilai = (Angka Pita 1 dan Pita 2) × Pengali</code>
          </p>
          <p><strong>Contoh:</strong> Warna <em>Cokelat - Hitam - Merah</em> berarti:</p>
          <ul class="ml-6 list-disc space-y-1">
            <li>Cokelat = 1 (pita 1)</li>
            <li>Hitam = 0 (pita 2)</li>
            <li>Merah = ×100 (pengali)</li>
          </ul>
          <p>Maka nilai resistor: <code class="bg-gray-100 px-2 py-1 rounded">10 × 100 = 1000 Ohm</code> atau <strong>1 KOhm</strong></p>
        </div>
      </section>

      <section id="simulasi" class="bg-white shadow rounded-xl p-6 space-y-4 mt-8">
        <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
          <i class="fas fa-calculator text-blue-500"></i>
          Simulasi Hitung Resistor (3 / 4 / 5 Pita Warna)
        </h3>

        <!-- Pilih Jumlah Pita -->
        <div>
          <label class="block font-medium mb-1">Jumlah Pita</label>
          <select id="jumlahPita" class="w-full border rounded px-3 py-2">
            <option value="3">3 Pita</option>
            <option value="4">4 Pita</option>
            <option value="5">5 Pita</option>
          </select>
        </div>

        <!-- Wrapper Input Warna -->
        <div id="inputWarna" class="grid md:grid-cols-3 gap-4 items-center">
          <!-- Input akan dimuat dinamis lewat JS -->
        </div>

        <!-- Tombol & Hasil -->
        <div class="mt-4 space-y-3">
          <button onclick="hitungResistor()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">Hitung Nilai Resistor</button>

          <div class="bg-yellow-100 border border-yellow-400 text-yellow-800 text-sm p-3 rounded">
            <strong>Rumus Umum:</strong> <br />
            - 3 Pita: (Pita1×10 + Pita2) × Pengali <br />
            - 4/5 Pita: (Pita1×10 + Pita2 + [Pita3 jika 5 pita]) × Pengali ± Toleransi
          </div>
          <!-- Keterangan Rumus -->
          <div class="bg-yellow-100 border border-yellow-400 text-yellow-800 text-sm p-3 rounded">
            <strong>Rumus:</strong> (Angka Pita 1 × 10 + Angka Pita 2) × Pengali <br />
            <strong>Contoh:</strong> Cokelat (1), Merah (2), Oranye (×1000), Emas (±5%) → (1×10 + 2) × 1000 = <strong>12.000 Ω ±5%</strong>
          </div>

          <p id="hasil" class="font-semibold text-green-600 text-lg"></p>
        </div>
      </section>

      <!-- 3. Simulasi Hukum Ohm -->
      <section class="space-y-4">
        <h2 class="text-2xl font-semibold border-b border-blue-700 pb-2 text-blue-700">Simulasi Hukum Ohm</h2>

        <!-- Keterangan Rumus -->
        <div class="bg-blue-50 p-4 rounded text-blue-800 text-sm">
          <p><strong>Hukum Ohm:</strong> <code>I = V / R</code></p>
          <ul class="list-disc ml-5 mt-2 space-y-1">
            <li><strong>I</strong> = Arus listrik (Ampere)</li>
            <li><strong>V</strong> = Tegangan (Volt)</li>
            <li><strong>R</strong> = Resistansi (Ohm)</li>
          </ul>
        </div>

        <div class="bg-white p-6 rounded-xl shadow space-y-4 w-full md:w-1/2">
          <label class="block text-sm font-medium text-gray-700">Tegangan (Volt):</label>
          <input type="number" id="inputTegangan" min="0" class="w-full border p-2 rounded" />

          <label class="block text-sm font-medium text-gray-700">Resistansi (Ohm):</label>
          <input type="number" id="inputResistansi" min="0.1" step="0.1" class="w-full border p-2 rounded" />

          <button onclick="hitungManualOhm()" class="bg-blue-600 text-white px-4 py-2 rounded w-full">Hitung Arus</button>
          <p id="outputArus" class="text-lg font-semibold text-blue-700"></p>
          <button onclick="resetOhmManual()" class="bg-red-500 text-white font-semibold px-4 py-2 rounded w-full">Reset</button>
        </div>
      </section>

      <!-- 4. Simulasi Rangkaian Seri dan Paralel -->
      <section id="Rangkaian" class="space-y-4">
        <h2 class="text-2xl font-semibold border-b border-blue-700 pb-2 text-blue-700">Simulasi Rangkaian Seri & Paralel</h2>
        <div id="simulasi-seri-paralel" class="bg-white shadow rounded-xl p-6 space-y-6">
          <!-- Input Jumlah Resistor -->
          <div class="space-y-2">
            <label for="jumlahResistor" class="block text-sm font-medium text-gray-700">Jumlah Resistor:</label>
            <input type="number" id="jumlahResistor" min="0" max="10" value="0" class="w-full border p-2 rounded" />
          </div>

          <!-- Pilih Jenis Rangkaian -->
          <div class="space-y-2">
            <label class="block text-sm font-medium text-gray-700">Jenis Rangkaian:</label>
            <div class="flex gap-4">
              <label class="inline-flex items-center gap-2">
                <input type="radio" name="jenisRangkaian" value="seri" checked class="accent-blue-600" />
                Seri
              </label>
              <label class="inline-flex items-center gap-2">
                <input type="radio" name="jenisRangkaian" value="paralel" class="accent-blue-600" />
                Paralel
              </label>
            </div>
          </div>

          <!-- Input Nilai Resistor -->
          <div id="resistorInputs" class="grid md:grid-cols-3 gap-4">
            <!-- Diisi dinamis via JavaScript -->
          </div>

          <!-- Hasil Perhitungan -->
          <div class="bg-blue-50 p-4 rounded text-blue-700 font-medium space-y-1">
            <p>Total Hambatan (Rtotal): <span id="hasilRtotal">-</span> Ω</p>
          </div>

          <!-- Visualisasi Grafik -->

          <!-- Bonus Visual Resistor -->
          <div id="visualResistor" class="flex flex-wrap gap-4 justify-center mt-6">
            <!-- Diisi dinamis via JavaScript -->
          </div>
        </div>
        <!-- Keterangan Rumus -->
        <div class="bg-yellow-50 border-l-4 border-yellow-400 p-3 rounded text-sm text-yellow-800">
          <strong>Rumus Total Hambatan:</strong><br />
          <span class="block mt-1"> <strong>Rangkaian Seri:</strong> R<sub>total</sub> = R₁ + R₂ + R₃ + ... + R<sub>n</sub> </span>
          <span class="block mt-1"> <strong>Rangkaian Paralel:</strong> 1/R<sub>total</sub> = 1/R₁ + 1/R₂ + 1/R₃ + ... + 1/R<sub>n</sub> </span>
        </div>
      </section>
    </main>

    <footer class="bg-blue-700 text-white text-center py-4 mt-10">
      <p>&copy; 2025 Rangkaian Searah. by Web Inovasion.</p>
    </footer>

    <script>
      function hitungManualOhm() {
        const V = parseFloat(document.getElementById("inputTegangan").value);
        const R = parseFloat(document.getElementById("inputResistansi").value);
        const output = document.getElementById("outputArus");

        if (isNaN(V) || isNaN(R) || R === 0) {
          output.textContent = "Mohon masukkan nilai yang valid (dan R ≠ 0).";
          output.classList.remove("text-blue-700");
          output.classList.add("text-red-600");
          return;
        }

        const I = (V / R).toFixed(2);
        output.textContent = `Arus: ${I} A`;
        output.classList.remove("text-red-600");
        output.classList.add("text-blue-700");
      }

      function resetOhmManual() {
        document.getElementById("inputTegangan").value = "";
        document.getElementById("inputResistansi").value = "";
        document.getElementById("outputArus").textContent = "";
      }

      function hitungResistor() {
        const jumlah = parseInt(document.getElementById("jumlahPita").value);
        const b1 = parseInt(document.getElementById("band1").value);
        const b2 = parseInt(document.getElementById("band2").value);
        const mult = parseInt(document.getElementById("multiplier").value);
        const hasilElement = document.getElementById("hasil");

        let nilai = 0;
        let tampil = "";
        let tolerance = "";

        if (jumlah === 3) {
          nilai = (b1 * 10 + b2) * mult;
        } else if (jumlah === 4) {
          const tol = document.getElementById("tolerance").value;
          nilai = (b1 * 10 + b2) * mult;
          tolerance = " " + tol;
        } else if (jumlah === 5) {
          const b3 = parseInt(document.getElementById("band3").value);
          const tol = document.getElementById("tolerance").value;
          nilai = (b1 * 100 + b2 * 10 + b3) * mult;
          tolerance = " " + tol;
        }

        if (nilai >= 1_000_000_000) tampil = (nilai / 1_000_000_000).toFixed(2) + " GΩ";
        else if (nilai >= 1_000_000) tampil = (nilai / 1_000_000).toFixed(2) + " MΩ";
        else if (nilai >= 1_000) tampil = (nilai / 1_000).toFixed(2) + " KΩ";
        else tampil = nilai + " Ω";

        hasilElement.textContent = `Nilai Resistor: ${tampil}${tolerance}`;
      }

      document.addEventListener("DOMContentLoaded", () => {
        const jumlahPita = document.getElementById("jumlahPita");
        const inputWarna = document.getElementById("inputWarna");

        const warna = ["Hitam", "Cokelat", "Merah", "Oranye", "Kuning", "Hijau", "Biru", "Ungu", "Abu-abu", "Putih"];
        const multiplier = [
          { label: "×1 (Hitam)", value: 1 },
          { label: "×10 (Cokelat)", value: 10 },
          { label: "×100 (Merah)", value: 100 },
          { label: "×1K (Oranye)", value: 1000 },
          { label: "×10K (Kuning)", value: 10000 },
          { label: "×100K (Hijau)", value: 100000 },
          { label: "×1M (Biru)", value: 1000000 },
          { label: "×10M (Ungu)", value: 10000000 },
          { label: "×100M (Abu-abu)", value: 100000000 },
          { label: "×1G (Putih)", value: 1000000000 },
        ];
        const toleransi = [
          { label: "±1% (Cokelat)", value: "±1%" },
          { label: "±2% (Merah)", value: "±2%" },
          { label: "±0.5% (Hijau)", value: "±0.5%" },
          { label: "±0.25% (Biru)", value: "±0.25%" },
          { label: "±0.1% (Ungu)", value: "±0.1%" },
          { label: "±5% (Emas)", value: "±5%" },
          { label: "±10% (Perak)", value: "±10%" },
          { label: "±20% (Tanpa Pita)", value: "±20%" },
        ];

        const buatSelect = (label, id, data, isObject = false) => {
          const selectHTML = `
            <label class="block font-medium mb-1">${label}</label>
            <select id="${id}" class="w-full border rounded px-3 py-2">
              ${data.map((val, i) => (isObject ? `<option value="${val.value}">${val.label}</option>` : `<option value="${i}">${val}</option>`)).join("")}
            </select>
          `;
          const div = document.createElement("div");
          div.innerHTML = selectHTML;
          inputWarna.appendChild(div);
        };

        const tampilkanInput = () => {
          const jumlah = parseInt(jumlahPita.value);
          inputWarna.innerHTML = "";

          // Semua pita warna diubah pakai value = indeks
          const warnaObj = warna.map((w, i) => ({ label: w, value: i }));

          buatSelect("Pita 1 (Angka Pertama)", "band1", warnaObj, true);
          buatSelect("Pita 2 (Angka Kedua)", "band2", warnaObj, true);

          if (jumlah === 5) {
            buatSelect("Pita 3 (Angka Ketiga)", "band3", warnaObj, true);
            buatSelect("Pita 4 (Pengali)", "multiplier", multiplier, true);
            buatSelect("Pita 5 (Toleransi)", "tolerance", toleransi, true);
          } else if (jumlah === 4) {
            buatSelect("Pita 3 (Pengali)", "multiplier", multiplier, true);
            buatSelect("Pita 4 (Toleransi)", "tolerance", toleransi, true);
          } else {
            buatSelect("Pita 3 (Pengali)", "multiplier", multiplier, true);
          }
        };

        jumlahPita.addEventListener("change", tampilkanInput);
        tampilkanInput(); // Munculkan langsung saat load
      });

      document.addEventListener("DOMContentLoaded", () => {
        const jumlahInput = document.getElementById("jumlahResistor");
        const resistorContainer = document.getElementById("resistorInputs");
        const hasilRtotal = document.getElementById("hasilRtotal");
        const visualResistor = document.getElementById("visualResistor");

        // Saat input jumlah resistor berubah
        jumlahInput.addEventListener("input", updateInputFields);

        // Saat jenis rangkaian dipilih ulang
        document.querySelectorAll("input[name='jenisRangkaian']").forEach((radio) => {
          radio.addEventListener("change", hitungSimulasi);
        });

        // Fungsi untuk menampilkan input resistor
        function updateInputFields() {
          const jumlah = parseInt(jumlahInput.value) || 0;
          resistorContainer.innerHTML = "";
          visualResistor.innerHTML = "";

          for (let i = 0; i < jumlah; i++) {
            const div = document.createElement("div");
            div.innerHTML = `
              <label class="block text-sm text-gray-700 mb-1">Resistor ${i + 1} (Ω):</label>
              <input type="number" min="0.1" step="0.1" class="resistorInput w-full border p-2 rounded" value="10" />
            `;
            resistorContainer.appendChild(div);
          }

          // Tambahkan event saat nilai resistor diubah
          document.querySelectorAll(".resistorInput").forEach((input) => {
            input.addEventListener("input", hitungSimulasi);
          });

          hitungSimulasi();
        }

        // Fungsi utama perhitungan Rtotal
        function hitungSimulasi() {
          const jenis = document.querySelector("input[name='jenisRangkaian']:checked").value;
          const resistorValues = [...document.querySelectorAll(".resistorInput")].map((input) => parseFloat(input.value));
          let Rtotal = 0;

          if (resistorValues.length === 0 || resistorValues.some((val) => isNaN(val) || val <= 0)) {
            hasilRtotal.textContent = "-";
            visualResistor.innerHTML = "";
            return;
          }

          if (jenis === "seri") {
            Rtotal = resistorValues.reduce((acc, val) => acc + val, 0);
          } else {
            Rtotal = 1 / resistorValues.reduce((acc, val) => acc + 1 / val, 0);
          }

          hasilRtotal.textContent = Rtotal.toFixed(2);
          updateVisualResistor(resistorValues.length);
        }

        // Fungsi untuk tampilkan resistor visual
        function updateVisualResistor(jumlah) {
          visualResistor.innerHTML = "";
          for (let i = 0; i < jumlah; i++) {
            visualResistor.innerHTML += `
              <div class="flex items-center gap-2">
                <div class="w-4 h-1 bg-gray-500"></div>
                <div class="w-12 h-6 bg-yellow-400 border border-gray-700 rounded text-center text-xs flex items-center justify-center">R${i + 1}</div>
                <div class="w-4 h-1 bg-gray-500"></div>
              </div>
            `;
          }
        }

        // Panggil awal
        updateInputFields();
      });
    </script>

    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  </body>
</html>
